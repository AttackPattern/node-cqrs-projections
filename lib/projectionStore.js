"use strict";function connect(o){return connection||(connection=new Promise(function(n){function e(){0!==mongoose.connection.readyState&&setTimeout(e,5e3),mongoose.connect(o,{useMongoClient:!0}).then(function(){console.log("Connected to Mongo"),n()}).catch(function(){setTimeout(e,1e3)})}e()})),connection}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=connect;var mongoose=require("mongoose"),connection=null;mongoose.connection.on("error",function(o){console.log("Mongoose Error",o)}).on("close",function(){console.log("Database connection closed.")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3Rpb25TdG9yZS5qcyJdLCJuYW1lcyI6WyJjb25uZWN0IiwibW9uZ29VcmwiLCJjb25uZWN0aW9uIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZXRyeSIsIm1vbmdvb3NlIiwicmVhZHlTdGF0ZSIsInNldFRpbWVvdXQiLCJ1c2VNb25nb0NsaWVudCIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJyZXF1aXJlIiwib24iLCJlcnJvciJdLCJtYXBwaW5ncyI6IllBWXdCQSxTQUFRQyxTQUFVQSxHQW1CeEMsTUFsQktDLGNBQ0hBLFdBQWEsR0FBSUMsU0FBUSxTQUFBQyxHQUN2QixRQUFTQyxLQUNnQyxJQUFuQ0MsU0FBU0osV0FBV0ssWUFDdEJDLFdBQVdILEVBQU8sS0FFcEJDLFNBQVNOLFFBQVFDLEdBQVlRLGdCQUFnQixJQUMxQ0MsS0FBSyxXQUNKQyxRQUFRQyxJQUFJLHNCQUNaUixNQUVEUyxNQUFNLFdBQ0xMLFdBQVdILEVBQU8sT0FHeEJBLE9BR0dILHlGQS9CVCxJQUFNSSxVQUFXUSxRQUFRLFlBRXJCWixXQUFhLElBRWpCSSxVQUFTSixXQUNIYSxHQUFBLFFBQVMsU0FBVUMsR0FDckJMLFFBQVFDLElBQUksaUJBQWtCSSxLQUU1QkQsR0FBQSxRQUFTLFdBQ1hKLFFBQVFDLElBQUkiLCJmaWxlIjoicHJvamVjdGlvblN0b3JlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xuXG5sZXQgY29ubmVjdGlvbiA9IG51bGw7XG5cbm1vbmdvb3NlLmNvbm5lY3Rpb25cbiAgLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKCdNb25nb29zZSBFcnJvcicsIGVycm9yKTtcbiAgfSlcbiAgLm9uKCdjbG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgY29ubmVjdGlvbiBjbG9zZWQuJyk7XG4gIH0pO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb25uZWN0KG1vbmdvVXJsKSB7XG4gIGlmICghY29ubmVjdGlvbikge1xuICAgIGNvbm5lY3Rpb24gPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGZ1bmN0aW9uIHJldHJ5KCkge1xuICAgICAgICBpZiAobW9uZ29vc2UuY29ubmVjdGlvbi5yZWFkeVN0YXRlICE9PSAwKSB7XG4gICAgICAgICAgc2V0VGltZW91dChyZXRyeSwgNTAwMCk7XG4gICAgICAgIH1cbiAgICAgICAgbW9uZ29vc2UuY29ubmVjdChtb25nb1VybCwgeyB1c2VNb25nb0NsaWVudDogdHJ1ZSB9KVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0ZWQgdG8gTW9uZ28nKTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJldHJ5LCAxMDAwKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHJ5KCk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGNvbm5lY3Rpb247XG59XG4iXX0=
